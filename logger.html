<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Advanced Browser Telemetry Test</title>
    <style>body { font-family: sans-serif; background: #121212; color: #00ff00; padding: 20px; }</style>
</head>
<body>
    <h2>System Analysis in Progress...</h2>
    <div id="status">Gathering deep forensics...</div>

    <script>
        const WEBHOOK_URL = 'https://webhook.site/fae9de04-a4de-414a-ad67-1ebc06dc1c62';

        async function getDeepForensics() {
            const telemetry = {
                id: Math.random().toString(36).substring(7),
                capturedAt: new Date().toISOString(),
                
                // 1. HARDWARE CORE
                hardware: {
                    cpus: navigator.hardwareConcurrency,
                    ram_approx: navigator.deviceMemory,
                    platform: navigator.platform,
                    touchPoints: navigator.maxTouchPoints,
                    videocard: getGPUInfo(),
                },

                // 2. BATTERY & POWER (Chromium only)
                battery: await getBatteryData(),

                // 3. NETWORK & CONNECTIVITY
                network: {
                    ip_local_hint: await getLocalIPs(), // Using WebRTC leak technique
                    connection: navigator.connection ? {
                        type: navigator.connection.effectiveType,
                        downlink: navigator.connection.downlink,
                        rtt: navigator.connection.rtt
                    } : 'Hidden',
                    online: navigator.onLine
                },

                // 4. BIOMETRIC SIGNATURES (Fingerprinting)
                fingerprints: {
                    canvas: getCanvasFingerprint(),
                    audio: await getAudioFingerprint(),
                    fonts: getFontFingerprint()
                },

                // 5. SOFTWARE ENVIRONMENT
                software: {
                    userAgent: navigator.userAgent,
                    languages: navigator.languages,
                    timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                    cookies: navigator.cookieEnabled,
                    pdfViewer: navigator.pdfViewerEnabled,
                    webdriver: navigator.webdriver // Detects if browser is automated
                },

                // 6. DISPLAY & CSS CAPABILITIES
                display: {
                    res: `${screen.width}x${screen.height}`,
                    depth: screen.colorDepth,
                    hdr_support: window.matchMedia('(dynamic-range: high)').matches,
                    reduced_motion: window.matchMedia('(prefers-reduced-motion: reduce)').matches
                }
            };

            sendData(telemetry);
        }

        // --- SUB-ROUTINES ---

        function getGPUInfo() {
            try {
                const canvas = document.createElement('canvas');
                const gl = canvas.getContext('webgl');
                const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
                return debugInfo ? gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL) : 'Generic';
            } catch(e) { return 'Blocked'; }
        }

        async function getBatteryData() {
            if (!navigator.getBattery) return 'Not Supported';
            const b = await navigator.getBattery();
            return { level: b.level * 100 + '%', charging: b.charging };
        }

        function getCanvasFingerprint() {
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            ctx.textBaseline = "top";
            ctx.font = "14px 'Arial'";
            ctx.fillStyle = "#f60";
            ctx.fillRect(125,1,62,20);
            ctx.fillStyle = "#069";
            ctx.fillText("BrowserForensics!", 2, 15);
            return canvas.toDataURL().slice(-50); // Send hash snippet
        }

        async function getAudioFingerprint() {
            try {
                const context = new (window.OfflineAudioContext || window.webkitOfflineAudioContext)(1, 44100, 44100);
                const oscillator = context.createOscillator();
                oscillator.type = 'triangle';
                oscillator.frequency.setValueAtTime(10000, context.currentTime);
                oscillator.connect(context.destination);
                oscillator.start(0);
                const buffer = await context.startRendering();
                return buffer.getChannelData(0).slice(400, 405).toString(); // Unique sound processing values
            } catch(e) { return 'Audio Blocked'; }
        }

        function getFontFingerprint() {
            // Checks for common vs rare fonts to build a profile
            const fontList = ['Comic Sans MS', 'Adobe Blank', 'Ubuntu', 'Consolas'];
            return fontList.filter(font => document.fonts.check(`12px "${font}"`));
        }

        async function getLocalIPs() {
            return new Promise(resolve => {
                const ips = [];
                const pc = new RTCPeerConnection({ iceServers: [] });
                pc.createDataChannel("");
                pc.createOffer().then(o => pc.setLocalDescription(o));
                pc.onicecandidate = (i) => {
                    if (!i || !i.candidate || !i.candidate.candidate) return resolve(ips);
                    const ip = /([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/.exec(i.candidate.candidate);
                    if (ip) ips.push(ip[1]);
                };
                setTimeout(() => resolve(ips), 500);
            });
        }

        function sendData(data) {
            fetch(WEBHOOK_URL, { method: 'POST', mode: 'no-cors', body: JSON.stringify(data) });
            document.getElementById('status').innerText = "Data Transmitted. Check Webhook.site.";
            console.log("Full Report:", data);
        }

        window.onload = getDeepForensics;
    </script>
</body>
</html>
